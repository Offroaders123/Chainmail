use crate::{
    convert::convert_to::ConvertTo,
    schema::{java::v1_20::item as java, pi::v0_1_1::item as pi},
};

impl ConvertTo<pi::Item> for java::Item {
    fn convert(&self) -> pi::Item {
        pi::Item {
            id: self.id.convert(),
            Damage: self.tag.as_ref().map_or(0, |tag| clamp_damage(tag.Damage)),
            Count: self.Count,
        }
    }
}

/// Converts a Java Edition item damage value (`i32`) to a Bedrock Edition-compatible value (`i16`).
///
/// In Java Edition, `Damage` is stored as a 32-bit signed integer. In Bedrock Edition,
/// it is stored as a 16-bit signed integer. To preserve vanilla-compatible behavior,
/// this function clamps the input to the valid `i16` range: -32,768 to 32,767.
///
/// This avoids overflow and wraparound artifacts that could result in undefined behavior
/// or corrupted item states in Bedrock.
///
/// # Parameters
/// - `value`: The Java Edition `Damage` value as `i32`.
///
/// # Returns
/// A clamped `i16` value safe for use in Bedrock Edition NBT.
///
/// # Example
/// ```
/// let bedrock_damage = clamp_damage(40000);
/// assert_eq!(bedrock_damage, 32767);
/// ```
fn clamp_damage(value: i32) -> i16 {
    value.clamp(i16::MIN as i32, i16::MAX as i32) as i16
}

impl ConvertTo<pi::ItemResource> for java::ItemResource {
    fn convert(&self) -> pi::ItemResource {
        match self {
            Self::acacia_boat => todo!(),
            Self::amethyst_shard => todo!(),
            Self::apple => todo!(),
            Self::armor_stand => todo!(),
            Self::arrow => todo!(),
            Self::axolotl_bucket => todo!(),
            Self::axolotl_spawn_egg => todo!(),
            Self::baked_potato => todo!(),
            Self::bat_spawn_egg => todo!(),
            Self::bee_spawn_egg => todo!(),
            Self::beef => todo!(),
            Self::beetroot => todo!(),
            Self::beetroot_seeds => todo!(),
            Self::beetroot_soup => todo!(),
            Self::birch_boat => todo!(),
            Self::black_dye => todo!(),
            Self::blaze_powder => todo!(),
            Self::blaze_rod => todo!(),
            Self::blaze_spawn_egg => todo!(),
            Self::blue_dye => todo!(),
            Self::bone => todo!(),
            Self::bone_meal => todo!(),
            Self::book => todo!(),
            Self::bow => todo!(),
            Self::bowl => todo!(),
            Self::bread => todo!(),
            Self::brick => todo!(),
            Self::brown_dye => todo!(),
            Self::bucket => todo!(),
            Self::bundle => todo!(),
            Self::carrot => todo!(),
            Self::carrot_on_a_stick => todo!(),
            Self::cat_spawn_egg => todo!(),
            Self::cave_spider_spawn_egg => todo!(),
            Self::chainmail_boots => todo!(),
            Self::chainmail_chestplate => todo!(),
            Self::chainmail_helmet => todo!(),
            Self::chainmail_leggings => todo!(),
            Self::charcoal => todo!(),
            Self::chest_minecart => todo!(),
            Self::chicken => todo!(),
            Self::chicken_spawn_egg => todo!(),
            Self::chorus_fruit => todo!(),
            Self::clay_ball => todo!(),
            Self::clock => todo!(),
            Self::coal => todo!(),
            Self::cocoa_beans => todo!(),
            Self::cod => todo!(),
            Self::cod_bucket => todo!(),
            Self::cod_spawn_egg => todo!(),
            Self::command_block_minecart => todo!(),
            Self::compass => todo!(),
            Self::cooked_beef => todo!(),
            Self::cooked_chicken => todo!(),
            Self::cooked_cod => todo!(),
            Self::cooked_mutton => todo!(),
            Self::cooked_porkchop => todo!(),
            Self::cooked_rabbit => todo!(),
            Self::cooked_salmon => todo!(),
            Self::cookie => todo!(),
            Self::copper_ingot => todo!(),
            Self::cow_spawn_egg => todo!(),
            Self::creeper_banner_pattern => todo!(),
            Self::creeper_spawn_egg => todo!(),
            Self::crossbow => todo!(),
            Self::cyan_dye => todo!(),
            Self::dark_oak_boat => todo!(),
            Self::debug_stick => todo!(),
            Self::diamond => todo!(),
            Self::diamond_axe => todo!(),
            Self::diamond_boots => todo!(),
            Self::diamond_chestplate => todo!(),
            Self::diamond_helmet => todo!(),
            Self::diamond_hoe => todo!(),
            Self::diamond_horse_armor => todo!(),
            Self::diamond_leggings => todo!(),
            Self::diamond_pickaxe => todo!(),
            Self::diamond_shovel => todo!(),
            Self::diamond_sword => todo!(),
            Self::dolphin_spawn_egg => todo!(),
            Self::donkey_spawn_egg => todo!(),
            Self::dragon_breath => todo!(),
            Self::dried_kelp => todo!(),
            Self::drowned_spawn_egg => todo!(),
            Self::egg => todo!(),
            Self::elder_guardian_spawn_egg => todo!(),
            Self::elytra => todo!(),
            Self::emerald => todo!(),
            Self::enchanted_book => todo!(),
            Self::enchanted_golden_apple => todo!(),
            Self::end_crystal => todo!(),
            Self::ender_eye => todo!(),
            Self::ender_pearl => todo!(),
            Self::enderman_spawn_egg => todo!(),
            Self::endermite_spawn_egg => todo!(),
            Self::evoker_spawn_egg => todo!(),
            Self::experience_bottle => todo!(),
            Self::feather => todo!(),
            Self::fermented_spider_eye => todo!(),
            Self::filled_map => todo!(),
            Self::fire_charge => todo!(),
            Self::firework_rocket => todo!(),
            Self::firework_star => todo!(),
            Self::fishing_rod => todo!(),
            Self::flint => todo!(),
            Self::flint_and_steel => todo!(),
            Self::flower_banner_pattern => todo!(),
            Self::fox_spawn_egg => todo!(),
            Self::furnace_minecart => todo!(),
            Self::ghast_spawn_egg => todo!(),
            Self::ghast_tear => todo!(),
            Self::glass_bottle => todo!(),
            Self::glistering_melon_slice => todo!(),
            Self::globe_banner_pattern => todo!(),
            Self::glow_berries => todo!(),
            Self::glow_ink_sac => todo!(),
            Self::glow_item_frame => todo!(),
            Self::glow_squid_spawn_egg => todo!(),
            Self::glowstone_dust => todo!(),
            Self::goat_spawn_egg => todo!(),
            Self::gold_ingot => todo!(),
            Self::gold_nugget => todo!(),
            Self::golden_apple => todo!(),
            Self::golden_axe => todo!(),
            Self::golden_boots => todo!(),
            Self::golden_carrot => todo!(),
            Self::golden_chestplate => todo!(),
            Self::golden_helmet => todo!(),
            Self::golden_hoe => todo!(),
            Self::golden_horse_armor => todo!(),
            Self::golden_leggings => todo!(),
            Self::golden_pickaxe => todo!(),
            Self::golden_shovel => todo!(),
            Self::golden_sword => todo!(),
            Self::gray_dye => todo!(),
            Self::green_dye => todo!(),
            Self::guardian_spawn_egg => todo!(),
            Self::gunpowder => todo!(),
            Self::heart_of_the_sea => todo!(),
            Self::hoglin_spawn_egg => todo!(),
            Self::honey_bottle => todo!(),
            Self::honeycomb => todo!(),
            Self::hopper_minecart => todo!(),
            Self::horse_spawn_egg => todo!(),
            Self::husk_spawn_egg => todo!(),
            Self::ink_sac => todo!(),
            Self::iron_axe => todo!(),
            Self::iron_boots => todo!(),
            Self::iron_chestplate => todo!(),
            Self::iron_helmet => todo!(),
            Self::iron_hoe => todo!(),
            Self::iron_horse_armor => todo!(),
            Self::iron_ingot => todo!(),
            Self::iron_leggings => todo!(),
            Self::iron_nugget => todo!(),
            Self::iron_pickaxe => todo!(),
            Self::iron_shovel => todo!(),
            Self::iron_sword => todo!(),
            Self::item_frame => todo!(),
            Self::jungle_boat => todo!(),
            Self::knowledge_book => todo!(),
            Self::lapis_lazuli => todo!(),
            Self::lava_bucket => todo!(),
            Self::lead => todo!(),
            Self::leather => todo!(),
            Self::leather_boots => todo!(),
            Self::leather_chestplate => todo!(),
            Self::leather_helmet => todo!(),
            Self::leather_horse_armor => todo!(),
            Self::leather_leggings => todo!(),
            Self::light_blue_dye => todo!(),
            Self::light_gray_dye => todo!(),
            Self::lime_dye => todo!(),
            Self::lingering_potion => todo!(),
            Self::llama_spawn_egg => todo!(),
            Self::magenta_dye => todo!(),
            Self::magma_cream => todo!(),
            Self::magma_cube_spawn_egg => todo!(),
            Self::map => todo!(),
            Self::melon_seeds => todo!(),
            Self::melon_slice => todo!(),
            Self::milk_bucket => todo!(),
            Self::minecart => todo!(),
            Self::mojang_banner_pattern => todo!(),
            Self::mooshroom_spawn_egg => todo!(),
            Self::mule_spawn_egg => todo!(),
            Self::mushroom_stew => todo!(),
            Self::music_disc_5 => todo!(),
            Self::music_disc_11 => todo!(),
            Self::music_disc_13 => todo!(),
            Self::music_disc_blocks => todo!(),
            Self::music_disc_cat => todo!(),
            Self::music_disc_chirp => todo!(),
            Self::music_disc_far => todo!(),
            Self::music_disc_mall => todo!(),
            Self::music_disc_mellohi => todo!(),
            Self::music_disc_otherside => todo!(),
            Self::music_disc_pigstep => todo!(),
            Self::music_disc_relic => todo!(),
            Self::music_disc_stal => todo!(),
            Self::music_disc_strad => todo!(),
            Self::music_disc_wait => todo!(),
            Self::music_disc_ward => todo!(),
            Self::mutton => todo!(),
            Self::name_tag => todo!(),
            Self::nautilus_shell => todo!(),
            Self::nether_brick => todo!(),
            Self::nether_star => todo!(),
            Self::netherite_axe => todo!(),
            Self::netherite_boots => todo!(),
            Self::netherite_chestplate => todo!(),
            Self::netherite_helmet => todo!(),
            Self::netherite_hoe => todo!(),
            Self::netherite_ingot => todo!(),
            Self::netherite_leggings => todo!(),
            Self::netherite_pickaxe => todo!(),
            Self::netherite_scrap => todo!(),
            Self::netherite_shovel => todo!(),
            Self::netherite_sword => todo!(),
            Self::oak_boat => todo!(),
            Self::ocelot_spawn_egg => todo!(),
            Self::orange_dye => todo!(),
            Self::painting => todo!(),
            Self::panda_spawn_egg => todo!(),
            Self::paper => todo!(),
            Self::parrot_spawn_egg => todo!(),
            Self::phantom_membrane => todo!(),
            Self::phantom_spawn_egg => todo!(),
            Self::pig_spawn_egg => todo!(),
            Self::piglin_brute_spawn_egg => todo!(),
            Self::piglin_spawn_egg => todo!(),
            Self::pillager_spawn_egg => todo!(),
            Self::pink_dye => todo!(),
            Self::poisonous_potato => todo!(),
            Self::polar_bear_spawn_egg => todo!(),
            Self::popped_chorus_fruit => todo!(),
            Self::porkchop => todo!(),
            Self::potato => todo!(),
            Self::potion => todo!(),
            Self::powder_snow_bucket => todo!(),
            Self::prismarine_crystals => todo!(),
            Self::prismarine_shard => todo!(),
            Self::pufferfish => todo!(),
            Self::pufferfish_bucket => todo!(),
            Self::pufferfish_spawn_egg => todo!(),
            Self::pumpkin_pie => todo!(),
            Self::pumpkin_seeds => todo!(),
            Self::purple_dye => todo!(),
            Self::quartz => todo!(),
            Self::rabbit => todo!(),
            Self::rabbit_foot => todo!(),
            Self::rabbit_hide => todo!(),
            Self::rabbit_spawn_egg => todo!(),
            Self::rabbit_stew => todo!(),
            Self::ravager_spawn_egg => todo!(),
            Self::raw_copper => todo!(),
            Self::raw_gold => todo!(),
            Self::raw_iron => todo!(),
            Self::red_dye => todo!(),
            Self::redstone => todo!(),
            Self::rotten_flesh => todo!(),
            Self::saddle => todo!(),
            Self::salmon => todo!(),
            Self::salmon_bucket => todo!(),
            Self::salmon_spawn_egg => todo!(),
            Self::scute => todo!(),
            Self::shears => todo!(),
            Self::sheep_spawn_egg => todo!(),
            Self::shield => todo!(),
            Self::shulker_shell => todo!(),
            Self::shulker_spawn_egg => todo!(),
            Self::silverfish_spawn_egg => todo!(),
            Self::skeleton_horse_spawn_egg => todo!(),
            Self::skeleton_spawn_egg => todo!(),
            Self::skull_banner_pattern => todo!(),
            Self::slime_ball => todo!(),
            Self::slime_spawn_egg => todo!(),
            Self::snowball => todo!(),
            Self::spectral_arrow => todo!(),
            Self::spider_eye => todo!(),
            Self::spider_spawn_egg => todo!(),
            Self::splash_potion => todo!(),
            Self::spruce_boat => todo!(),
            Self::spyglass => todo!(),
            Self::squid_spawn_egg => todo!(),
            Self::stick => todo!(),
            Self::stone_axe => todo!(),
            Self::stone_hoe => todo!(),
            Self::stone_pickaxe => todo!(),
            Self::stone_shovel => todo!(),
            Self::stone_sword => todo!(),
            Self::stray_spawn_egg => todo!(),
            Self::strider_spawn_egg => todo!(),
            Self::string => todo!(),
            Self::sugar => todo!(),
            Self::suspicious_stew => todo!(),
            Self::sweet_berries => todo!(),
            Self::tipped_arrow => todo!(),
            Self::tnt_minecart => todo!(),
            Self::totem_of_undying => todo!(),
            Self::trader_llama_spawn_egg => todo!(),
            Self::trident => todo!(),
            Self::tropical_fish => todo!(),
            Self::tropical_fish_bucket => todo!(),
            Self::tropical_fish_spawn_egg => todo!(),
            Self::turtle_helmet => todo!(),
            Self::turtle_spawn_egg => todo!(),
            Self::vex_spawn_egg => todo!(),
            Self::villager_spawn_egg => todo!(),
            Self::vindicator_spawn_egg => todo!(),
            Self::wandering_trader_spawn_egg => todo!(),
            Self::warped_fungus_on_a_stick => todo!(),
            Self::water_bucket => todo!(),
            Self::wheat => todo!(),
            Self::wheat_seeds => todo!(),
            Self::white_dye => todo!(),
            Self::witch_spawn_egg => todo!(),
            Self::wither_skeleton_spawn_egg => todo!(),
            Self::wolf_spawn_egg => todo!(),
            Self::wooden_axe => todo!(),
            Self::wooden_hoe => todo!(),
            Self::wooden_pickaxe => todo!(),
            Self::wooden_shovel => todo!(),
            Self::wooden_sword => todo!(),
            Self::writable_book => todo!(),
            Self::written_book => todo!(),
            Self::yellow_dye => todo!(),
            Self::zoglin_spawn_egg => todo!(),
            Self::zombie_horse_spawn_egg => todo!(),
            Self::zombie_spawn_egg => todo!(),
            Self::zombie_villager_spawn_egg => todo!(),
            Self::zombified_piglin_spawn_egg => todo!(),
            Self::tadpole_bucket => todo!(),
            Self::disc_fragment_5 => todo!(),
            Self::echo_shard => todo!(),
            Self::goat_horn => todo!(),
            Self::mangrove_boat => todo!(),
            Self::recovery_compass => todo!(),
            Self::allay_spawn_egg => todo!(),
            Self::frog_spawn_egg => todo!(),
            Self::tadpole_spawn_egg => todo!(),
            Self::warden_spawn_egg => todo!(),
            Self::oak_chest_boat => todo!(),
            Self::spruce_chest_boat => todo!(),
            Self::birch_chest_boat => todo!(),
            Self::jungle_chest_boat => todo!(),
            Self::acacia_chest_boat => todo!(),
            Self::dark_oak_chest_boat => todo!(),
            Self::mangrove_chest_boat => todo!(),
            Self::nether_wart => todo!(),
            Self::piglin_banner_pattern => todo!(),
            Self::ender_dragon_spawn_egg => todo!(),
            Self::iron_golem_spawn_egg => todo!(),
            Self::snow_golem_spawn_egg => todo!(),
            Self::wither_spawn_egg => todo!(),
            Self::brush => todo!(),
            Self::pitcher_pod => todo!(),
            Self::angler_pottery_sherd => todo!(),
            Self::archer_pottery_sherd => todo!(),
            Self::arms_up_pottery_sherd => todo!(),
            Self::blade_pottery_sherd => todo!(),
            Self::brewer_pottery_sherd => todo!(),
            Self::burn_pottery_sherd => todo!(),
            Self::danger_pottery_sherd => todo!(),
            Self::explorer_pottery_sherd => todo!(),
            Self::friend_pottery_sherd => todo!(),
            Self::heart_pottery_sherd => todo!(),
            Self::heartbreak_pottery_sherd => todo!(),
            Self::howl_pottery_sherd => todo!(),
            Self::miner_pottery_sherd => todo!(),
            Self::mourner_pottery_sherd => todo!(),
            Self::plenty_pottery_sherd => todo!(),
            Self::prize_pottery_sherd => todo!(),
            Self::sheaf_pottery_sherd => todo!(),
            Self::shelter_pottery_sherd => todo!(),
            Self::skull_pottery_sherd => todo!(),
            Self::snort_pottery_sherd => todo!(),
            Self::netherite_upgrade_smithing_template => todo!(),
            Self::coast_armor_trim_smithing_template => todo!(),
            Self::dune_armor_trim_smithing_template => todo!(),
            Self::eye_armor_trim_smithing_template => todo!(),
            Self::host_armor_trim_smithing_template => todo!(),
            Self::raiser_armor_trim_smithing_template => todo!(),
            Self::rib_armor_trim_smithing_template => todo!(),
            Self::sentry_armor_trim_smithing_template => todo!(),
            Self::shaper_armor_trim_smithing_template => todo!(),
            Self::silence_armor_trim_smithing_template => todo!(),
            Self::snout_armor_trim_smithing_template => todo!(),
            Self::spire_armor_trim_smithing_template => todo!(),
            Self::tide_armor_trim_smithing_template => todo!(),
            Self::vex_armor_trim_smithing_template => todo!(),
            Self::ward_armor_trim_smithing_template => todo!(),
            Self::wayfinder_armor_trim_smithing_template => todo!(),
            Self::wild_armor_trim_smithing_template => todo!(),
            Self::camel_spawn_egg => todo!(),
            Self::sniffer_spawn_egg => todo!(),
            Self::torchflower_seeds => todo!(),
        }
    }
}
